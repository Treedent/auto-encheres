"use strict";window.onload=(()=>{d.querySelectorAll("#nom, #prenom, #email, #password, #password2").forEach(e=>{e.addEventListener("input",e=>{setApparence(e.currentTarget)})}),d.querySelector("#register-btn").addEventListener("click",e=>{let r,t,s,a=d.querySelector("#registerform"),n=new FormData(a),o=[];for(let e of n)switch(e[0]){case"nom":t=e[1],e[1].trim().length||o.push("nom");break;case"prenom":s=e[1],e[1].trim().length||o.push("prenom");break;case"email":e[1].trim().length&&ValideEmail(e[1])||o.push("email");break;case"password":r=e[1],e[1].trim().length||o.push("password");break;case"password2":e[1].trim().length&&e[1]===r||o.push("password2")}if(o.length){for(let e of o)d.querySelector(`#${e}`).classList.add("is-invalid");e.currentTarget.blur()}else fetch("/",{method:"POST",body:n}).then(e=>e.json()).then(e=>{if(!0===e.usercreated){a.classList.add("d-none");d.querySelector("#registerZone").innerHTML=`<h2>L'utilisateur ${s} ${t} a bien été créé !</h2>`}}).catch(e=>{console.error(e)})})});